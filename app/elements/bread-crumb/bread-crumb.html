<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="bread-crumb">
    <template>
        <style>
            :host {
                display: block;
            }
        </style>

        <span><a href="/projects">Projects</a></span>
        <template is="dom-if" if="[[project.name]]">
            <span> > <a href="/projects/[[project.id]]">[[project.name]]</a></span>
        </template>
        <template is="dom-if" if="[[component.name]]">
            <span> > <a href="/components/[[component.id]]">[[component.name]]</a></span>
        </template>

    </template>

    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'bread-crumb',
                properties: {
                    project: {
                        type: Object,
                        observer: '_checkRoute'
                    },
                    component: {
                        type: Object,
                        observer: '_checkRoute'
                    },
                    route: {
                        type: String,
                        observer: '_checkRoute'
                    }
                },

                _checkRoute: function(){
                    if (this.route === 'project-info'){
                        this.component = null;
                    }
                    if (this.route === 'projects'){
                        this.project = null;
                        this.component = null;
                    }
                    if (this.route === 'home'){
                        this.project = null;
                        this.component = null;
                    }
                }

            });
        })
        ();
    </script>

</dom-module>